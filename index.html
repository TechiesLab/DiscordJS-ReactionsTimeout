<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>DiscordJS #5</title>
  <link rel="shortcut icon" type="image/png" href="images/ico_full.png"/>
  <link rel="stylesheet" href="stylesheet/prism.css">
  <link rel="stylesheet" href="stylesheet/style.css">
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.1/css/all.css" integrity="sha384-gfdkjb5BdAXd+lj+gudLWI+BXq4IuLW5IT+brZEZsLFm++aCMlF1V92rMkPaX4PP" crossorigin="anonymous">
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
</head>
<body>

  <!-- Introduction -->
  <div class="banner" style="display: block !important; background-image: linear-gradient(rgba(0,0,0,0.5),rgba(0,0,0,0.5)), url('https://i.redd.it/gmyldjq35fy51.png');">
    <div id="class-languages">
      <i class="fab fa-html5 mr-1" style="color: #f84820"></i>
      <i class="fab fa-css3-alt mr-1" style="color: #1970b5"></i>
      <i class="fab fa-js-square mr-1" style="color: #FFE01B"></i>
    </div>
    <div class="container">
      <div class="main">
        <img src="images/logo.png" alt="">
        <div class="class-title">
          <h1>DiscordJS Partie 5</h1>
        </div>
      </div>
      <p>Conna√Æs-tu Discord? Et les bots Discord? On peut les programmer en JavaScript gr√¢ce √† la librarie <b>DiscordJS</b>!</p>
      <a class="btn btn-primary tl-button" href="#challenge" role="button">Commencer !</a>
    </div>
  </div>

  <div class="container" id="challenge">

    <div class="accordion" id="accordionExample">

      <!-- √âtape 1 -->
      <div class="card">
        <div class="card-header" id="heading1">
          <h2 class="mb-0">
            <button class="btn btn-link done task" type="button" data-toggle="collapse" data-target="#collapse1" aria-expanded="false" aria-controls="collapse1">
              √âtape 1 - D√©fis √† compl√©ter avant
            </button>
          </h2>
        </div>
        <div id="collapse1" class="collapse show" aria-labelledby="heading1" data-parent="#accordionExample">
          <div class="card-body">
            <p>Avant d'entamer ce d√©fi, assure toi d'avoir d√©j√† fait ceux ci:</p>
            <ul>
              <li><a href="https://techieslab.github.io/DiscordJS-PingPong/">DiscordJS - Ping Pong</a></li>
              <li><a href="https://techieslab.github.io/DiscordJS-Commandes/">DiscordJS - Commandes</a></li>
              <li><a href="https://techieslab.github.io/DiscordJS-MentionsGifsPublish/">DiscordJS - Gifs-Mentions</a></li>
              <li><a href="https://techieslab.github.io/DiscordJS-EmbeddedWelcome/">DiscordJS - Embeds</a></li>
            </ul>
            <p>Ensuite, assure-toi que tu sois bien connect√© √† ton compte <a href="https://repl.it">Repl.It</a>, et que tu aies ton projet de la fois pass√©e.</p>
          </div>
        </div>
      </div>

      <!-- √âtape 2 -->
      <div class="card">
        <div class="card-header" id="heading2">
          <h2 class="mb-0">
            <button class="btn btn-link task" type="button" data-toggle="collapse" data-target="#collapse2" aria-expanded="false" aria-controls="collapse2">
              √âtape 2 - R√©actions aux messages
            </button>
          </h2>
        </div>
        <div id="collapse2" class="collapse" aria-labelledby="heading2" data-parent="#accordionExample">
          <div class="card-body">
            <p>Si tu as d√©j√† utilis√© Discord, tu sais qu'on peut <b>r√©agir</b> aux messages des autres. On peut mettre toutes sortes d'emojis, seule notre imagination nous retient.</p>

            <p>Pour r√©agir aux messages, le code est tr√®s similaire au code pour r√©pondre √† un message. En effet, pour r√©pondre on faisait le suivant:</p>

            <pre><code class="language-js">
              bot.on('message', function(msg) {
                // ...
                if ( /* ... */ ) {
                  msg.reply("Hello :)");
                }
              })
            </code></pre>

            <p>Pour r√©agir √† un message il suffit d'utiliser <code>msg.react()</code>. Mais il faut faire attention, il faut pr√©ciser avec quoi r√©agir. Et c'est l√† que cela devient un peu plus compliqu√©.</p>

            <p>Tu vas devoir aller chercker l'emoji avec lequel tu veux r√©agir. Par exemple, je veux r√©agir avec l'emoji üîó. Tu peux aller sur <a href="https://www.prosettings.com/emoji-list/">ce site</a> pour copier ton emoji pr√©fer√©.</p>

            <p>Finalement il suffit de le mettre entre guillemets et de la coller en tant que param√®tre. Voil√†!</p>

            <p>Essaie maintenant de r√©agir avec plusieurs emojis les uns apr√®s les autres! üáßüáπ</p>
          </div>
        </div>
      </div>

      <!-- √âtape 3 -->
      <div class="card">
        <div class="card-header" id="heading3">
          <h2 class="mb-0">
            <button class="btn btn-link task" type="button" data-toggle="collapse" data-target="#collapse3" aria-expanded="false" aria-controls="collapse3">
              √âtape 3 - Attendre avant de r√©pondre
            </button>
          </h2>
        </div>
        <div id="collapse3" class="collapse" aria-labelledby="heading3" data-parent="#accordionExample">
          <div class="card-body">
            <p>Imaginons que ton bot veuille r√©pondre √† un message mais apr√®s 10 minutes. On va donc devoir coder une sorte de "attendre". Heureusement cela existe <b>plus ou moins</b> en JavaScript.</p>

            <p>En effet, pour faire quelque chose apr√®s 10 minutes, on peut faire ce style de code:</p>

            <pre><code class="language-js">
              setTimeout(function() {
                // ....
              }, 1000);
            </code></pre>

            <p>Analysons ce code:</p>

            <ul>
              <li><b>setTimeout</b> indique qu'on veut mettre un timer</li>
              <li><b>....</b> est le code √† executer lorsque le timer est fini</li>
              <li><b>1000</b> est le nombre de <b>millisecondes</b> √† attendre avant d'executer le code</li>
            </ul>

            <p>Tu peux donc le placer autour d'un de tes <code>msg.reply()</code> pour faire r√©pondre ton bot apr√®s un certain temps. Ton bot pourrait √©galement envoyer un message maintenant et un message dans 10 minutes, pour te rappeller quelque chose!</p>

            <p>Imaginons maintenant qu'on veuille que le bot envoie un message si aucun autre message a √©t√© envoy√© dans les 10 minutes pass√©es. On va alors cr√©er le <code>setTimeout()</code> comme avant, et on va l'effacer quand un nouveau message rentre.</p>

            <p>Pour effacer un timeout, il faut le stocker dans une variable. Cr√©e une variable en dehors de toutes tes fonctions, <code>var timeout</code>. Puis lorsque tu utilises le <code>setTimeout()</code>, change le en ceci:</p>

            <pre><code class="language-js">
              timeout = setTimeout( /* ... */ );
            </code></pre>

            <p>Finalement, lorsqu'un nouveau message rentre, n'importe quel nouveau message (Donc avant les <code>if</code> et les <code>switch</code>), appelle la fonction <code>clearTimeout(timeout)</code>.</p>

            <p>Ton code ressemble donc √† ceci:</p>

            <pre><code class="language-js">
              var timeout;

              bot.on('message', function(msg) {
                clearTimeout(timeout);

                if( /* ... */ ) {
                  timeout = setTimeout( /* ... */ );
                }
              })
            </code></pre>

            <p><b>Challenges:</b></p>

            <ul>
              <li>Cr√©e un deuxi√®me timeout qui s'active avec un autre message.</li>
              <li>Cr√©e un trois√®me message qui envoie un message apr√®s 10 minutes dans TOUS les cas.</li>
              <li>Cr√©e un message qui s'envoie sauf s'il y a un nouveau message dans un canal sp√©cifique (Par exemple le canal 'g√©n√©ral').</li>
              <li>Cr√©e une r√©action apr√®s un certain temps</li>
              <li>Cr√©e une r√©action apr√®s un certain temps, et une deuxi√®me r√©action apr√®s encore plus de temps</li>
            </ul>
          </div>
        </div>
      </div>

    </div> 
  </div>



  <div class="footer">
    <div class="footer-links">
      <a href="https://techieslab.be/"><i class="fas fa-globe"></i></i></a>
      <a href="https://www.facebook.com/TechiesLabBrussels"><i class="fab fa-facebook"></i></a>
      <a href="https://www.linkedin.com/company/techies-lab/"><i class="fab fa-linkedin"></i></a>
      <a href="https://twitter.com/TechiesLab"><i class="fab fa-twitter"></i></a>
      
    </div>
    <div class="footer-copyright">
      <a href="https://techieslab.be" rel="noopener noreferrer" target="_blank" class="alert-link copyright">
        <i class="far fa-copyright"></i>
        2021 Techies Lab ASBL. All rights reserved.
      </a>
    </div>
  </div>
<script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>
<script src="javascript/prism.js"></script>
</body>
</html>
